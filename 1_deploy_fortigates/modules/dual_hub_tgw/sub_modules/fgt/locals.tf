locals {
  # ------------------------------------------------------------------------------------
  # Parse inputs
  # ------------------------------------------------------------------------------------
  # List of map to create FGT instances
  fgt_list =  var.fgt_ni_list
  # ------------------------------------------------------------------------------------
  # OutPuts
  # ------------------------------------------------------------------------------------
  # FGT peer AZ
  o_fgt_peer_az_ids = {
    for k, v in aws_instance.fgt :
    k => v["id"]
  }
  # FGT list
  o_fgt_list = [
    for k, v in aws_instance.fgt :
    { fgt = k
      id  = v["id"]
    }
  ]
}